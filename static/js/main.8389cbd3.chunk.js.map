{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","card","link","name","onCardLike","type","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","onImgCard","handleCardLike","handleCardDelete","Footer","PopupWithForm","onSubmit","isOpen","onClose","title","children","ImagePopup","api","baseUrl","token","this","_token","fetch","headers","authorization","then","response","ok","json","Promise","reject","status","data","method","body","JSON","stringify","res","cardId","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","required","minLength","maxLength","EditAvatarPopup","setAvatar","AddPlacePopup","setLink","addCard","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","avatarPopupOpen","editPopupOpen","addPopupOpen","imgPopupOpen","setCurrentUser","getUserInfo","catch","err","console","log","setCards","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","item","setUserAvatar","setUserInfo","createCardOne","hidden","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8389cbd3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.a307e1c4.svg\";","import logo from '../images/header-logo.svg';\n\nfunction Header() {\n  return(\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Место Россия\" />\n      <div className=\"header__line\" />\n    </header>\n  )\n}\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n\n\n  const isOwn = props.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `element__trash ${isOwn ? '' : 'element__trash_hidden'}`\n  );\n\n\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-btn ${isLiked ? 'element__like-btn_active' : ''} opacity`\n  );\n\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n\n  return (\n    <div className=\"element\">\n      <img className=\"element__image\" onClick={handleClick} src={props.link} alt={props.name} />\n      <div className=\"element__text\">\n        <p className=\"element__name\">{props.name}</p>\n        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" />\n      </div>\n      <span className=\"element__like-number\">{props.likes.length}</span>\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" />\n    </div>\n  )\n}\n\nexport default Card;","import { useContext } from 'react';\nimport Card from './Card.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return(\n    <main className=\"main\">\n      <div className=\"profile\">\n        <div className=\"profile__container\">\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\" />\n          <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar} />\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-btn opacity\" type=\"button\" onClick={props.onEditProfile} />\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-btn opacity\" type=\"button\" onClick={props.onAddPlace} />\n      </div>\n      <div className=\"elements\">\n        {props.cards.map(card => (\n        <Card \n          card={card} \n          key={card._id} \n          {...card} \n          onCardClick={props.onImgCard} \n          onCardLike={props.handleCardLike} \n          onCardDelete={props.handleCardDelete} \n        />))}\n      </div>\n    </main>\n  )\n}\n\nexport default Main;","function Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Ivan Nemirich</p>\n    </footer>\n  )\n}\nexport default Footer;","\nfunction PopupWithForm(props) {\n  return(\n    <form onSubmit={props.onSubmit} className={`popup popup-${props.name} popup-form ${props.isOpen}`} name={`${props.name}Popup`}>\n      <div className=\"popup__container\">\n        <button className={`popup__close-btn popup-${props.name}__close-btn opacity`} type=\"reset\" onClick={props.onClose} />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <>{props.children}</>\n        <button className={`popup__submit-btn submit-${props.name}-btn`} type=\"submit\">Сохранить</button>\n      </div>\n      <div className={`popup__overlay overlay-${props.name}`} />\n    </form>\n  )\n}\n\nexport default PopupWithForm;","function ImagePopup(props) {\n  return(\n  <form className={`popup popup-img ${props.isOpen}`} name=\"fullImg\">\n    <div className=\"popup-img__container\">\n      <button onClick={props.onClose} className=\"popup__close-btn popup-img__close-btn opacity\" type=\"reset\" />\n      <img className=\"popup-img__img\" alt={props.card.name} src={props.card.link} />\n      <p className=\"popup-img__name\">{props.card.name}</p>\n    </div>\n    <div className=\"popup__overlay overlay-img\" />\n  </form>\n  )\n}\n\nexport default ImagePopup;","class Api {\n  constructor({baseUrl, token}) {\n    this.baseUrl = baseUrl;\n    this._token = token;\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(response => response.ok \n      ? response.json() \n      : Promise.reject(`Ошибка загрузки карточек: ${response.status}`))\n  }\n\n  createCardOne(data) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then((res) =>\n    res.ok\n      ? res.json()\n      : Promise.reject(`Ошибка создания карточки: ${res.status}`)\n  )\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then((res) =>\n    res.ok\n      ? res.json()\n      : Promise.reject(`Ошибка получения профиля: ${res.status}`)\n  )\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n        avatar: data.avatar\n      })\n    })\n    .then((res) =>\n    res.ok\n      ? res.json()\n      : Promise.reject(`Ошибка изменения профиля: ${res.status}`)\n  )\n  }\n\n  setUserAvatar(link) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: link.avatar\n      })\n    })\n    .then((res) =>\n    res.ok\n      ? res.json()\n      : Promise.reject(`Ошибка изменения профиля: ${res.status}`)\n    )\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      }\n    })\n    .then((res) =>\n    res.ok\n      ? res.json()\n      : Promise.reject(`Ошибка удаления картинки: ${res.status}`)\n    )\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if(isLiked == false) {\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        }\n      })\n      .then((res) =>\n      res.ok\n        ? res.json()\n        : Promise.reject(`Ошибка лайка карточки: ${res.status}`)\n      )\n    } else {\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          authorization: this._token,\n        }\n      })\n      .then((res) =>\n      res.ok\n        ? res.json()\n        : Promise.reject(`Ошибка дизлайка карточки: ${res.status}`)\n      )\n    }\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-19\",\n  token: \"264a260c-a5ff-4494-a8c2-9dd802b24892\",\n});\n\nexport default api;\n","import { useState, useContext, useEffect } from 'react';\n\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n  function handleChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n  \n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n\n  return (\n\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"edit\" title=\"Редактировать профиль\" >\n    <div className=\"popup__form\">\n      <input value={name} onChange={handleChangeName} className=\"popup__field popup__field_name\" id=\"input-name\" type=\"text\" name=\"name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n      <span className=\"popup__form-field-error\" id=\"input-name-error\">Вы пропустили это поле.</span>\n    </div>\n    <div className=\"popup__form\">\n      <input value={description} onChange={handleChangeDescription} className=\"popup__field popup__field_job\" id=\"input-job\" type=\"text\" name=\"about\" placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" />\n      <span className=\"popup__form-field-error\" id=\"input-job-error\">Вы пропустили это поле.</span>\n    </div>\n  </PopupWithForm>\n\n  )\n}\n\nexport default EditProfilePopup;\n\n","import { useState, useRef } from 'react';\n\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n\n  const [avatar, setAvatar] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.setAvatar({\n      avatar,\n    });\n    setAvatar('');\n  }\n\n  function handleChange(e) {\n    setAvatar(e.target.value);\n  }\n\n  return (\n\n  <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"avatar\" title=\"Обновить аватар\">\n    <div className=\"popup__form\">\n      <input value={avatar} onChange={handleChange} className=\"popup__field popup__field_link-avatar\" id=\"input-linkAvatar\" type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\" required />\n      <span className=\"popup__form-field-error\" id=\"input-linkAvatar-error\">Вы пропустили это поле.</span>\n    </div>\n  </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;","import { useState, useContext } from 'react';\n\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleAddCardName(e) {\n    setName(e.target.value)\n  }\n  function handleAddCardLink(e) {\n    setLink(e.target.value)\n  }\n\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n  \n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.addCard({\n      name: name,\n      link: link\n    });\n    setName('');\n    setLink('');\n  } \n\n\n  return(\n\n  <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"add\" title=\"Новое место\" >\n    <div className=\"popup__form\">\n      <input value={name} onChange={handleAddCardName} className=\"popup__field popup__field_name-photo\" id=\"input-photo\" type=\"text\" name=\"name\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" />\n      <span className=\"popup__form-field-error\" id=\"input-photo-error\">Вы пропустили это поле.</span>\n    </div>\n    <div className=\"popup__form\">\n      <input value={link} onChange={handleAddCardLink} className=\"popup__field popup__field_link-photo\" id=\"input-link\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required />\n      <span className=\"popup__form-field-error\" id=\"input-link-error\">Вы пропустили это поле.</span>\n    </div>\n  </PopupWithForm>\n\n  )\n  \n}\nexport default AddPlacePopup;","import React from 'react';\nimport { useState, useEffect } from 'react';\n\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n  }\n\n\n  const avatarPopupOpen = `${isEditAvatarPopupOpen ? 'popup_opened' : ''}`;\n  const editPopupOpen = `${isEditProfilePopupOpen ? 'popup_opened' : ''}`;\n  const addPopupOpen = `${isAddPlacePopupOpen ? 'popup_opened' : ''}`;\n  const imgPopupOpen = `${isImagePopupOpen ? 'popup_opened' : ''}`;\n\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err))\n  }, [])\n\n  function handleUpdateUser(item) {\n    api\n      .setUserInfo(item)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateAvatar(item) {\n    api\n      .setUserAvatar(item)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n\n\n\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cards) => {\n        setCards(cards);\n      })\n      .catch(err => console.log(err));\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n          // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const newCards = cards.filter(c => c._id !== card._id);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .createCardOne(card)\n      .then(card => {\n        setCards([card, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n\n\n\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Header />\n          <Main \n          onEditAvatar={handleEditAvatarClick} \n          onEditProfile={handleEditProfileClick} \n          onAddPlace={handleAddPlaceClick}\n          onImgCard={handleCardClick}\n          cards={cards}\n          handleCardLike={handleCardLike}\n          handleCardDelete={handleCardDelete}\n          />\n          <Footer />\n\n          <EditAvatarPopup setAvatar={handleUpdateAvatar} isOpen={avatarPopupOpen} onClose={closeAllPopups} />\n\n          <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={editPopupOpen} onClose={closeAllPopups} />\n\n          <AddPlacePopup addCard={handleAddPlaceSubmit} isOpen={addPopupOpen} onClose={closeAllPopups} />\n\n          <PopupWithForm name=\"del\" title=\"Вы уверены?\" >\n            <input id=\"\" name=\"cardId\" required type=\"text\" hidden />\n          </PopupWithForm>\n\n          <ImagePopup card={selectedCard} isOpen={imgPopupOpen} onClose={closeAllPopups} />\n        </div>\n      </CurrentUserContext.Provider>\n    </>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}